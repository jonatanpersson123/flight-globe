{"remainingRequest":"/Users/jonatanpersson/Documents/jp/repos/flight-globe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jonatanpersson/Documents/jp/repos/flight-globe/src/components/SearchControlsAirport.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jonatanpersson/Documents/jp/repos/flight-globe/src/components/SearchControlsAirport.vue","mtime":1596145186825},{"path":"/Users/jonatanpersson/Documents/jp/repos/flight-globe/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jonatanpersson/Documents/jp/repos/flight-globe/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jonatanpersson/Documents/jp/repos/flight-globe/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jonatanpersson/Documents/jp/repos/flight-globe/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBsb2NhdGlvbnMgZnJvbSAnLi4vZGF0YS9za3lzY2FubmVyLWxvY2F0aW9ucycKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ1NlYXJjaENvbnRyb2xzQWlycG9ydCcsCiAgICBwcm9wczogW10sCiAgICBkYXRhOiAoKSA9PiAoewogICAgICAgIG9yaWdpbjogJycsCiAgICAgICAgYWlycG9ydHM6IFtdLAogICAgfSksCiAgICBtZXRob2RzOiB7CiAgICAgICAgIHF1ZXJ5U2VhcmNoKHF1ZXJ5U3RyaW5nLCBjYikgewogICAgICAgICAgICBjb25zdCBxdWVyeSA9IHF1ZXJ5U3RyaW5nID8gcXVlcnlTdHJpbmcubGVuZ3RoID4gMSA/IHF1ZXJ5U3RyaW5nLnRvTG93ZXJDYXNlKCkgOiBudWxsIDogbnVsbAogICAgICAgICAgICBjb25zdCByZXN1bHRzID0gcXVlcnkgPyB0aGlzLmFpcnBvcnRzLmZpbHRlcihuID0+IG4udmFsdWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxdWVyeSkpIDogW10KICAgICAgICAgICAgY2IocmVzdWx0cykKICAgICAgICB9LAogICAgICAgIGhhbmRsZVNlbGVjdChzZWxlY3RlZEFpcnBvcnQpIHsKICAgICAgICAgICAgdGhpcy4kZW1pdCgnb25PcmlnaW5DaGFuZ2UnLCBzZWxlY3RlZEFpcnBvcnQpCiAgICAgICAgfSwKICAgIH0sCiAgICBtb3VudGVkKCkgewogICAgICAgIGNvbnN0IGZsYXR0ZW4gPSAoYXJyYXkpID0+IGFycmF5LnJlZHVjZSgoYSwgYikgPT4gYS5jb25jYXQoQXJyYXkuaXNBcnJheShiKSA/IGZsYXR0ZW4oYikgOiBiKSwgW10pCiAgICAgICAgdGhpcy5haXJwb3J0cyA9IGZsYXR0ZW4obG9jYXRpb25zLkNvbnRpbmVudHMubWFwKHggPT4geC5Db3VudHJpZXMubWFwKHkgPT4geS5DaXRpZXMubWFwKHogPT4gei5BaXJwb3J0cy5tYXAodyA9PiB7CiAgICAgICAgICAgIHJldHVybiB7Y29kZTogdy5JZCwgdmFsdWU6IHcuTmFtZSwgY291bnRyeUNvZGU6IHcuQ291bnRyeUlkfQogICAgICAgIH0pKSkpKQogICAgfQp9Cg=="},{"version":3,"sources":["SearchControlsAirport.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SearchControlsAirport.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <el-autocomplete\n        v-model=\"origin\"\n        :fetch-suggestions=\"querySearch\"\n        placeholder=\"From\"\n        prefix-icon=\"el-icon-map-location\"\n        @select=\"handleSelect\">\n    </el-autocomplete>\n</template>\n\n<script>\n    import locations from '../data/skyscanner-locations'\n    export default {\n        name: 'SearchControlsAirport',\n        props: [],\n        data: () => ({\n            origin: '',\n            airports: [],\n        }),\n        methods: {\n             querySearch(queryString, cb) {\n                const query = queryString ? queryString.length > 1 ? queryString.toLowerCase() : null : null\n                const results = query ? this.airports.filter(n => n.value.toLowerCase().includes(query)) : []\n                cb(results)\n            },\n            handleSelect(selectedAirport) {\n                this.$emit('onOriginChange', selectedAirport)\n            },\n        },\n        mounted() {\n            const flatten = (array) => array.reduce((a, b) => a.concat(Array.isArray(b) ? flatten(b) : b), [])\n            this.airports = flatten(locations.Continents.map(x => x.Countries.map(y => y.Cities.map(z => z.Airports.map(w => {\n                return {code: w.Id, value: w.Name, countryCode: w.CountryId}\n            })))))\n        }\n    }\n</script>\n\n<style scoped>\n</style>\n    "]}]}