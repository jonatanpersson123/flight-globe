{"remainingRequest":"/Users/jonatanpersson/Documents/jp/repos/flight-globe/node_modules/babel-loader/lib/index.js!/Users/jonatanpersson/Documents/jp/repos/flight-globe/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jonatanpersson/Documents/jp/repos/flight-globe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jonatanpersson/Documents/jp/repos/flight-globe/src/components/Globe.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jonatanpersson/Documents/jp/repos/flight-globe/src/components/Globe.vue","mtime":1596226912302},{"path":"/Users/jonatanpersson/Documents/jp/repos/flight-globe/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jonatanpersson/Documents/jp/repos/flight-globe/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jonatanpersson/Documents/jp/repos/flight-globe/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jonatanpersson/Documents/jp/repos/flight-globe/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnJlZHVjZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zZXQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwZWF0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN1YiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvam9uYXRhbnBlcnNzb24vRG9jdW1lbnRzL2pwL3JlcG9zL2ZsaWdodC1nbG9iZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwovLwovLwovLwovLwppbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7CmltcG9ydCBPcmJpdENvbnRyb2xzIGZyb20gJ3RocmVlLW9yYml0Y29udHJvbHMnOwppbXBvcnQgU2VhSW1hZ2UgZnJvbSAnLi4vYXNzZXRzL3NlYS5qcGcnOwppbXBvcnQgU3RhcnMgZnJvbSAnLi4vYXNzZXRzL3N0YXJzLnBuZyc7CmltcG9ydCBDb3VudHJpZXMgZnJvbSAnLi4vZGF0YS9nbG9iZS1jb3VudHJpZXMnOwppbXBvcnQgVGVzc2FsYXRvcjNEIGZyb20gJy4uL3V0aWxzL3Rlc3NhbGF0b3IzZCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnR2xvYmUnLAogIHByb3BzOiB7CiAgICBxdW90ZXM6IEFycmF5LAogICAgcGxhY2VzOiBBcnJheSwKICAgIGJ1ZGdldDogTnVtYmVyLAogICAgZGlyZWN0T25seTogQm9vbGVhbiwKICAgIG9yaWdpbjogewogICAgICBjb2RlOiBTdHJpbmcsCiAgICAgIGNvdW50cnlDb2RlOiBTdHJpbmcsCiAgICAgIG5hbWU6IFN0cmluZwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJlbmRlcmVyOiBudWxsLAogICAgICBzY2VuZTogbnVsbCwKICAgICAgY2FtZXJhOiBudWxsLAogICAgICBjb250cm9sczogbnVsbCwKICAgICAgcmFkaXVzOiAwLjk5NSwKICAgICAgc2VnbWVudHM6IDMyLAogICAgICBpbnRlcnNlY3RlZE9iamVjdDogbnVsbCwKICAgICAgaG92ZXJTY2FsZTogMS4wMSwKICAgICAgY29udGluZW50czogWyJFVSIsICJBTiIsICJBUyIsICJPQyIsICJTQSIsICJBRiIsICJOQSJdLAogICAgICByZXN1bHRDb3VudHJpZXM6IFtdLAogICAgICBnbG9iZUNvdW50cmllczogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBpbml0R2xvYmU6IGZ1bmN0aW9uIGluaXRHbG9iZSgpIHsKICAgICAgdGhpcy5zZXR1cFJlbmRlcmVyKCk7CiAgICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTsKICAgICAgdGhpcy5zZXR1cENhbWVyYSgpOwogICAgICB0aGlzLnNldHVwTGlnaHRzKCk7CiAgICAgIHRoaXMuYmFzZUdsb2JlID0gbmV3IFRIUkVFLk9iamVjdDNEKCk7CiAgICAgIHRoaXMuYmFzZUdsb2JlLnNjYWxlLnNldCgyMCwgMjAsIDIwKTsKICAgICAgdGhpcy5zY2VuZS5hZGQodGhpcy5iYXNlR2xvYmUpOwogICAgICB2YXIgc3RhcmZpZWxkID0gbmV3IFRIUkVFLk1lc2gobmV3IFRIUkVFLlNwaGVyZUdlb21ldHJ5KDkwLCA2NCwgNjQpLCBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoewogICAgICAgIG1hcDogVEhSRUUuSW1hZ2VVdGlscy5sb2FkVGV4dHVyZShTdGFycyksCiAgICAgICAgc2lkZTogVEhSRUUuQmFja1NpZGUKICAgICAgfSkpOwogICAgICB0aGlzLnNjZW5lLmFkZChzdGFyZmllbGQpOwogICAgICB0aGlzLnNldHVwVGV4dHVyZSgpOwogICAgICB0aGlzLnNldHVwQ29udHJvbHMoKTsKICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vbkRvY3VtZW50TW91c2VNb3ZlLCBmYWxzZSk7CiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5vbk1vdXNlS2V5VXAsIGZhbHNlKTsKICAgIH0sCiAgICBvbkRvY3VtZW50TW91c2VNb3ZlOiBmdW5jdGlvbiBvbkRvY3VtZW50TW91c2VNb3ZlKGV2ZW50KSB7CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHZhciBtb3VzZVggPSBldmVudC5jbGllbnRYIC8gd2luZG93LmlubmVyV2lkdGggKiAyIC0gMTsKICAgICAgdmFyIG1vdXNlWSA9IC0oZXZlbnQuY2xpZW50WSAvIHdpbmRvdy5pbm5lckhlaWdodCkgKiAyICsgMTsKICAgICAgdmFyIHZlY3RvciA9IG5ldyBUSFJFRS5WZWN0b3IzKG1vdXNlWCwgbW91c2VZLCAtMSk7CiAgICAgIHZlY3Rvci51bnByb2plY3QodGhpcy5jYW1lcmEpOwogICAgICB2YXIgcmF5Y2FzdGVyID0gbmV3IFRIUkVFLlJheWNhc3Rlcih0aGlzLmNhbWVyYS5wb3NpdGlvbiwgdmVjdG9yLnN1Yih0aGlzLmNhbWVyYS5wb3NpdGlvbikubm9ybWFsaXplKCkpOwogICAgICB2YXIgaW50ZXJzZWN0cyA9IHJheWNhc3Rlci5pbnRlcnNlY3RPYmplY3QodGhpcy5iYXNlR2xvYmUsIHRydWUpOwoKICAgICAgaWYgKGludGVyc2VjdHMubGVuZ3RoID4gMCAmJiBpbnRlcnNlY3RzWzBdLm9iamVjdC5uYW1lID09PSAibGFuZCIpIHsKICAgICAgICB0aGlzLmNvbnRyb2xzLmF1dG9Sb3RhdGUgPSBmYWxzZTsKICAgICAgICB0aGlzLmludGVyc2VjdGVkT2JqZWN0ID0gaW50ZXJzZWN0c1swXS5vYmplY3Q7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pbnRlcnNlY3RlZE9iamVjdCA9IG51bGw7CiAgICAgIH0KICAgIH0sCiAgICBvbk1vdXNlS2V5VXA6IGZ1bmN0aW9uIG9uTW91c2VLZXlVcChldmVudCkgewogICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gODIpIHsKICAgICAgICAvLyBrZXk6IFIKICAgICAgICB0aGlzLmNvbnRyb2xzLmF1dG9Sb3RhdGUgPSAhdGhpcy5jb250cm9scy5hdXRvUm90YXRlOwogICAgICB9CiAgICB9LAogICAgc2V0dXBSZW5kZXJlcjogZnVuY3Rpb24gc2V0dXBSZW5kZXJlcigpIHsKICAgICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKCk7CiAgICAgIHRoaXMucmVuZGVyZXIuc2V0Q2xlYXJDb2xvcigweDAwMDAwMCwgMC4wKTsKICAgICAgdGhpcy5yZW5kZXJlci5zZXRQaXhlbFJhdGlvKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTsKICAgICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpOwogICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7CiAgICB9LAogICAgc2V0dXBDYW1lcmE6IGZ1bmN0aW9uIHNldHVwQ2FtZXJhKCkgewogICAgICB0aGlzLmNhbWVyYSA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSg0NSwgd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQsIDAuMDEsIDQ1MDApOwogICAgICB0aGlzLmNhbWVyYS5wb3NpdGlvbi54ID0gLTIyOwogICAgICB0aGlzLmNhbWVyYS5wb3NpdGlvbi55ID0gMTA7CiAgICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogPSAtNjQ7CiAgICB9LAogICAgc2V0dXBMaWdodHM6IGZ1bmN0aW9uIHNldHVwTGlnaHRzKCkgewogICAgICB0aGlzLnNjZW5lLmFkZChuZXcgVEhSRUUuQW1iaWVudExpZ2h0KDB4NTU1NTU1KSk7CiAgICAgIHZhciBkaXJlY3Rpb25hbExpZ2h0MSA9IG5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0KDB4YWFhYWFhLCAwLjUpOwogICAgICBkaXJlY3Rpb25hbExpZ2h0MS5wb3NpdGlvbi5zZXQoLTEsIDEsIDEpLm5vcm1hbGl6ZSgpOwogICAgICB0aGlzLnNjZW5lLmFkZChkaXJlY3Rpb25hbExpZ2h0MSk7CiAgICAgIHZhciBkaXJlY3Rpb25hbExpZ2h0MiA9IG5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0KDB4YWFhYWFhLCAwLjUpOwogICAgICBkaXJlY3Rpb25hbExpZ2h0Mi5wb3NpdGlvbi5zZXQoLTEsIDEsIC0xKS5ub3JtYWxpemUoKTsKICAgICAgdGhpcy5zY2VuZS5hZGQoZGlyZWN0aW9uYWxMaWdodDIpOwogICAgICB2YXIgZGlyZWN0aW9uYWxMaWdodDMgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodCgweGFhYWFhYSwgMC41KTsKICAgICAgZGlyZWN0aW9uYWxMaWdodDMucG9zaXRpb24uc2V0KDEsIDEsIC0xKS5ub3JtYWxpemUoKTsKICAgICAgdGhpcy5zY2VuZS5hZGQoZGlyZWN0aW9uYWxMaWdodDMpOwogICAgICB2YXIgZGlyZWN0aW9uYWxMaWdodDQgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodCgweGFhYWFhYSwgMC41KTsKICAgICAgZGlyZWN0aW9uYWxMaWdodDQucG9zaXRpb24uc2V0KDEsIDEsIDEpLm5vcm1hbGl6ZSgpOwogICAgICB0aGlzLnNjZW5lLmFkZChkaXJlY3Rpb25hbExpZ2h0NCk7CiAgICB9LAogICAgc2V0dXBUZXh0dXJlOiBmdW5jdGlvbiBzZXR1cFRleHR1cmUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgc2VhVGV4dHVyZSA9IFRIUkVFLkltYWdlVXRpbHMubG9hZFRleHR1cmUoU2VhSW1hZ2UsIFRIUkVFLlVWTWFwcGluZywgZnVuY3Rpb24gKCkgewogICAgICAgIHNlYVRleHR1cmUud3JhcFMgPSBUSFJFRS5SZXBlYXRXcmFwcGluZzsKICAgICAgICBzZWFUZXh0dXJlLndyYXBUID0gVEhSRUUuUmVwZWF0V3JhcHBpbmc7CiAgICAgICAgc2VhVGV4dHVyZS5yZXBlYXQuc2V0KDE2LCA4KTsKCiAgICAgICAgX3RoaXMuYmFzZUdsb2JlLmFkZChuZXcgVEhSRUUuTWVzaChuZXcgVEhSRUUuU3BoZXJlR2VvbWV0cnkoX3RoaXMucmFkaXVzLCBfdGhpcy5zZWdtZW50cywgX3RoaXMuc2VnbWVudHMpLCBuZXcgVEhSRUUuTWVzaExhbWJlcnRNYXRlcmlhbCh7CiAgICAgICAgICB0cmFuc3BhcmVudDogdHJ1ZSwKICAgICAgICAgIGRlcHRoVGVzdDogdHJ1ZSwKICAgICAgICAgIGRlcHRoV3JpdGU6IGZhbHNlLAogICAgICAgICAgb3BhY2l0eTogMC45NSwKICAgICAgICAgIG1hcDogc2VhVGV4dHVyZSwKICAgICAgICAgIGNvbG9yOiAweDY2OTlmZgogICAgICAgIH0pKSk7CgogICAgICAgIF90aGlzLmNyZWF0ZUNvdW50cmllcygpOwogICAgICB9KTsKICAgIH0sCiAgICBzZXR1cENvbnRyb2xzOiBmdW5jdGlvbiBzZXR1cENvbnRyb2xzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuY29udHJvbHMgPSBuZXcgT3JiaXRDb250cm9scyh0aGlzLmNhbWVyYSwgdGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTsKICAgICAgdGhpcy5jb250cm9scy5yb3RhdGVTcGVlZCA9IDAuNDU7CiAgICAgIHRoaXMuY29udHJvbHMuem9vbVNwZWVkID0gMC4yMDsKICAgICAgdGhpcy5jb250cm9scy5taW5EaXN0YW5jZSA9IDIwLjA7CiAgICAgIHRoaXMuY29udHJvbHMubWF4RGlzdGFuY2UgPSAxMDAuMDsKICAgICAgdGhpcy5jb250cm9scy5keW5hbWljRGFtcGluZ0ZhY3RvciA9IDAuMTsKICAgICAgdGhpcy5jb250cm9scy5hdXRvUm90YXRlU3BlZWQgPSAxLjA7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi5jb250cm9scy5hdXRvUm90YXRlID0gdHJ1ZTsKICAgICAgfSwgMzAwMCk7CiAgICB9LAogICAgZ2V0Q29sb3JCYXNlZE9uQ29udGllbnQ6IGZ1bmN0aW9uIGdldENvbG9yQmFzZWRPbkNvbnRpZW50KGNvdW50cnlDb2RlKSB7CiAgICAgIHZhciBjb2xvciA9IG5ldyBUSFJFRS5Db2xvcigweGZmMDAwMCk7CiAgICAgIHZhciBjb3VudHJ5ID0gdGhpcy5nbG9iZUNvdW50cmllcy5maW5kKGZ1bmN0aW9uIChjb3VudHJ5KSB7CiAgICAgICAgcmV0dXJuIGNvdW50cnkuZGF0YS5jb2RlID09PSBjb3VudHJ5Q29kZTsKICAgICAgfSk7CiAgICAgIHZhciBjb250aWVudEluZGV4ID0gY291bnRyeSA/IHRoaXMuY29udGluZW50cy5pbmRleE9mKGNvdW50cnkuZGF0YS5jb250KSA6IC0xOwoKICAgICAgaWYgKCFjb3VudHJ5KSB7CiAgICAgICAgY29sb3IgPSBuZXcgVEhSRUUuQ29sb3IoMHgwMDAwMDApOwogICAgICAgIGNvbnNvbGUubG9nKCdjb3VsZCBub3QgZm91bmQgbWF0Y2hpbmcgY291bnRyeScsIGNvdW50cnlDb2RlKTsKICAgICAgfSBlbHNlIGlmIChjb250aWVudEluZGV4ICE9PSAtMSkgewogICAgICAgIC8vIFRlbXAgZml4IGZvciBub3QgdXNpbmcgZ3JlZW4gY29sb3JzIG9uIGNvbnRpZW50cwogICAgICAgIC8vIFRPRE8gLSBtYWtlIGNvbG9yIG1hdHJpeCBmb3IgY29udGluZW50cwogICAgICAgIGNvbnRpZW50SW5kZXggPSBjb250aWVudEluZGV4ID09PSAyID8gNCA6IGNvbnRpZW50SW5kZXg7CiAgICAgICAgY29sb3Iuc2V0SFNMKGNvbnRpZW50SW5kZXggKiAoMSAvIDcpLCBNYXRoLnJhbmRvbSgpICogMC4yNSArIDAuNjUsIE1hdGgucmFuZG9tKCkgLyAyICsgMC4yNSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBjb2xvcjsKICAgIH0sCiAgICBjcmVhdGVDb3VudHJpZXM6IGZ1bmN0aW9uIGNyZWF0ZUNvdW50cmllcygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLmdsb2JlQ291bnRyaWVzLmZvckVhY2goZnVuY3Rpb24gKGNvdW50cnkpIHsKICAgICAgICB2YXIgZ2VvbWV0cnkgPSBuZXcgVGVzc2FsYXRvcjNEKGNvdW50cnksIDApOwoKICAgICAgICB2YXIgY29sb3IgPSBfdGhpczMuZ2V0Q29sb3JCYXNlZE9uQ29udGllbnQoY291bnRyeS5kYXRhLmNvZGUpOwoKICAgICAgICB2YXIgbWVzaCA9IGNvdW50cnkubWVzaCA9IG5ldyBUSFJFRS5NZXNoKGdlb21ldHJ5LCBuZXcgVEhSRUUuTWVzaExhbWJlcnRNYXRlcmlhbCh7CiAgICAgICAgICBjb2xvcjogY29sb3IKICAgICAgICB9KSk7CiAgICAgICAgbWVzaC5uYW1lID0gImxhbmQiOwogICAgICAgIG1lc2gudXNlckRhdGEuY291bnRyeSA9IGNvdW50cnkuZGF0YS5uYW1lOwogICAgICAgIG1lc2gudXNlckRhdGEuY29kZSA9IGNvdW50cnkuZGF0YS5jb2RlOwoKICAgICAgICBfdGhpczMuYmFzZUdsb2JlLmFkZChtZXNoKTsKICAgICAgfSk7CiAgICB9LAogICAgdXBkYXRlQ291bnRyaWVzOiBmdW5jdGlvbiB1cGRhdGVDb3VudHJpZXMoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdmFyIGZpbHRlcmVkVHJpcHMgPSB0aGlzLnF1b3Rlcy5maWx0ZXIoZnVuY3Rpb24gKHEpIHsKICAgICAgICByZXR1cm4gcS5JbmJvdW5kTGVnICYmIHEuT3V0Ym91bmRMZWc7CiAgICAgIH0pOwoKICAgICAgaWYgKHRoaXMuYnVkZ2V0KSB7CiAgICAgICAgZmlsdGVyZWRUcmlwcyA9IGZpbHRlcmVkVHJpcHMuZmlsdGVyKGZ1bmN0aW9uIChxKSB7CiAgICAgICAgICByZXR1cm4gcS5NaW5QcmljZSA8PSBfdGhpczQuYnVkZ2V0OwogICAgICAgIH0pOwogICAgICB9CgogICAgICBpZiAodGhpcy5kaXJlY3RPbmx5KSB7CiAgICAgICAgZmlsdGVyZWRUcmlwcyA9IGZpbHRlcmVkVHJpcHMuZmlsdGVyKGZ1bmN0aW9uIChxKSB7CiAgICAgICAgICByZXR1cm4gcS5EaXJlY3Q7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHZhciBmaWx0ZXJlZENvdW50cmllcyA9IGZpbHRlcmVkVHJpcHMubWFwKGZ1bmN0aW9uICh0KSB7CiAgICAgICAgdmFyIGNvdW50cnlOYW1lRm9yU3RhdGlvbiA9IF90aGlzNC5wbGFjZXMuZmluZChmdW5jdGlvbiAocCkgewogICAgICAgICAgcmV0dXJuIHAuUGxhY2VJZCA9PT0gdC5PdXRib3VuZExlZy5EZXN0aW5hdGlvbklkOwogICAgICAgIH0pLkNvdW50cnlOYW1lOwoKICAgICAgICB2YXIgc2t5c2Nhbm5lckNvZGUgPSBfdGhpczQucGxhY2VzLmZpbmQoZnVuY3Rpb24gKHApIHsKICAgICAgICAgIHJldHVybiBwLlR5cGUgPT09ICdDb3VudHJ5JyAmJiBwLk5hbWUgPT09IGNvdW50cnlOYW1lRm9yU3RhdGlvbjsKICAgICAgICB9KS5Ta3lzY2FubmVyQ29kZTsKCiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIG5hbWU6IGNvdW50cnlOYW1lRm9yU3RhdGlvbiwKICAgICAgICAgIGNvZGU6IHNreXNjYW5uZXJDb2RlCiAgICAgICAgfTsKICAgICAgfSkuZmlsdGVyKGZ1bmN0aW9uIChjKSB7CiAgICAgICAgcmV0dXJuIGMuY29kZSAhPT0gX3RoaXM0Lm9yaWdpbi5jb3VudHJ5Q29kZTsKICAgICAgfSk7CgogICAgICB2YXIgdW5pcXVlQ291bnRyaWVzID0gX3RvQ29uc3VtYWJsZUFycmF5KG5ldyBTZXQoZmlsdGVyZWRDb3VudHJpZXMpKTsKCiAgICAgIHRoaXMuaGFuZGxlU2VsZWN0ZWRDb3VudHJpZXModGhpcy5yZXN1bHRDb3VudHJpZXMsIHVuaXF1ZUNvdW50cmllcyk7CiAgICAgIHRoaXMucmVzdWx0Q291bnRyaWVzID0gdW5pcXVlQ291bnRyaWVzOwogICAgfSwKICAgIGhhbmRsZVNlbGVjdGVkQ291bnRyaWVzOiBmdW5jdGlvbiBoYW5kbGVTZWxlY3RlZENvdW50cmllcyhwcmV2aW91c0NvdW50cmllcywgbmV3Q291bnRyaWVzKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdmFyIHByZXZpb3VzU2VsZWN0ZWRDb3VudHJ5Q29kZXMgPSBwcmV2aW91c0NvdW50cmllcy5tYXAoZnVuY3Rpb24gKGNvdW50cnkpIHsKICAgICAgICByZXR1cm4gY291bnRyeS5jb2RlOwogICAgICB9KTsKICAgICAgdmFyIG5ld1NlbGVjdGVkQ291bnRyeUNvZGVzID0gbmV3Q291bnRyaWVzLm1hcChmdW5jdGlvbiAoY291bnRyeSkgewogICAgICAgIHJldHVybiBjb3VudHJ5LmNvZGU7CiAgICAgIH0pOwogICAgICB2YXIgdG9CZUFkZGVkID0gbmV3Q291bnRyaWVzLmZpbHRlcihmdW5jdGlvbiAoY291bnRyeSkgewogICAgICAgIHJldHVybiAhcHJldmlvdXNTZWxlY3RlZENvdW50cnlDb2Rlcy5pbmNsdWRlcyhjb3VudHJ5LmNvZGUpOwogICAgICB9KTsKICAgICAgdmFyIHRvQmVSZW1vdmVkID0gcHJldmlvdXNDb3VudHJpZXMuZmlsdGVyKGZ1bmN0aW9uIChjb3VudHJ5KSB7CiAgICAgICAgcmV0dXJuICFuZXdTZWxlY3RlZENvdW50cnlDb2Rlcy5pbmNsdWRlcyhjb3VudHJ5LmNvZGUpOwogICAgICB9KTsKICAgICAgdG9CZUFkZGVkLmZvckVhY2goZnVuY3Rpb24gKGNvdW50cnkpIHsKICAgICAgICB2YXIgY29sb3IgPSBuZXcgVEhSRUUuQ29sb3IoJ2dyZWVuJyk7CiAgICAgICAgY29sb3Iuc2V0SFNMKDAuMjg1LCAwLjY1LCBNYXRoLnJhbmRvbSgpIC8gNyArIDAuNCk7CgogICAgICAgIF90aGlzNS51cGRhdGVDb3VudHJ5Q29sb3IoY291bnRyeS5jb2RlLCBjb2xvcik7CiAgICAgIH0pOwogICAgICB0b0JlUmVtb3ZlZC5mb3JFYWNoKGZ1bmN0aW9uIChjb3VudHJ5KSB7CiAgICAgICAgdmFyIGNvbG9yID0gX3RoaXM1LmdldENvbG9yQmFzZWRPbkNvbnRpZW50KGNvdW50cnkuY29kZSk7CgogICAgICAgIF90aGlzNS51cGRhdGVDb3VudHJ5Q29sb3IoY291bnRyeS5jb2RlLCBjb2xvcik7CiAgICAgIH0pOwogICAgfSwKICAgIHVwZGF0ZUNvdW50cnlDb2xvcjogZnVuY3Rpb24gdXBkYXRlQ291bnRyeUNvbG9yKGNvdW50cnlDb2RlLCBjb2xvcikgewogICAgICB2YXIgY291bnRyeU1lc2ggPSB0aGlzLmJhc2VHbG9iZS5jaGlsZHJlbi5maW5kKGZ1bmN0aW9uIChjKSB7CiAgICAgICAgdmFyIF9jJHVzZXJEYXRhOwoKICAgICAgICByZXR1cm4gKChfYyR1c2VyRGF0YSA9IGMudXNlckRhdGEpID09PSBudWxsIHx8IF9jJHVzZXJEYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYyR1c2VyRGF0YS5jb2RlKSA9PT0gY291bnRyeUNvZGU7CiAgICAgIH0pOwoKICAgICAgaWYgKGNvdW50cnlNZXNoKSB7CiAgICAgICAgY291bnRyeU1lc2gubWF0ZXJpYWwuY29sb3IgPSBjb2xvcjsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLndhcm4oIk1lc2ggd2l0aCBjb3VudHJ5IGNvZGUgIi5jb25jYXQoY291bnRyeUNvZGUsICIgbm90IGZvdW5kIikpOwogICAgICB9CiAgICB9LAogICAgYW5pbWF0ZTogZnVuY3Rpb24gYW5pbWF0ZSgpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICB2YXIgYW5pbWF0ZSA9IGZ1bmN0aW9uIGFuaW1hdGUoKSB7CiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpOwoKICAgICAgICBfdGhpczYuY29udHJvbHMudXBkYXRlKCk7CgogICAgICAgIF90aGlzNi5yZW5kZXJlci5yZW5kZXIoX3RoaXM2LnNjZW5lLCBfdGhpczYuY2FtZXJhKTsKICAgICAgfTsKCiAgICAgIGFuaW1hdGUoKTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBxdW90ZXM6IGZ1bmN0aW9uIHF1b3RlcyhuZXdWYWwpIHsKICAgICAgdGhpcy51cGRhdGVDb3VudHJpZXMoKTsKICAgIH0sCiAgICBidWRnZXQ6IGZ1bmN0aW9uIGJ1ZGdldChuZXdWYWwpIHsKICAgICAgdGhpcy51cGRhdGVDb3VudHJpZXMoKTsKICAgIH0sCiAgICBkaXJlY3RPbmx5OiBmdW5jdGlvbiBkaXJlY3RPbmx5KG5ld1ZhbCkgewogICAgICB0aGlzLnVwZGF0ZUNvdW50cmllcygpOwogICAgfSwKICAgIG9yaWdpbjogZnVuY3Rpb24gb3JpZ2luKG5ld1ZhbCwgb2xkVmFsKSB7CiAgICAgIGlmIChvbGRWYWwgIT0gbnVsbCkgewogICAgICAgIC8vIFRPRE8gcm90YXRlIHNvIGNvdW50cnkgaXMgZm9jdXNlZCBpbiBnbG9iZQogICAgICAgIC8vIFJlc3RvcmUgY29sb3Igb2YgcHJldmlvdXMgc2VsZWN0ZWQgb3JpZ2luCiAgICAgICAgdmFyIGNvbnRpZW50Q29sb3IgPSB0aGlzLmdldENvbG9yQmFzZWRPbkNvbnRpZW50KG9sZFZhbC5jb3VudHJ5Q29kZSk7CiAgICAgICAgdGhpcy51cGRhdGVDb3VudHJ5Q29sb3Iob2xkVmFsLmNvdW50cnlDb2RlLCBjb250aWVudENvbG9yKTsKICAgICAgfQoKICAgICAgdGhpcy51cGRhdGVDb3VudHJ5Q29sb3IobmV3VmFsLmNvdW50cnlDb2RlLCBuZXcgVEhSRUUuQ29sb3IoJ2JsdWUnKSk7CiAgICB9LAogICAgaW50ZXJzZWN0ZWRPYmplY3Q6IGZ1bmN0aW9uIGludGVyc2VjdGVkT2JqZWN0KG5ld1ZhbCwgb2xkVmFsKSB7CiAgICAgIGlmIChuZXdWYWwgIT09IG9sZFZhbCkgewogICAgICAgIGlmIChvbGRWYWwgIT0gbnVsbCkgewogICAgICAgICAgb2xkVmFsLnNjYWxlLnNldCgxLjAsIDEuMCwgMS4wKTsKICAgICAgICB9CgogICAgICAgIGlmIChuZXdWYWwgIT0gbnVsbCkgewogICAgICAgICAgbmV3VmFsLnNjYWxlLnNldCh0aGlzLmhvdmVyU2NhbGUsIDEuMDEsIDEuMDEpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy4kZW1pdCgnb25Db3VudHJ5Q2hhbmdlJywgbmV3VmFsICE9IG51bGwgPyBuZXdWYWwudXNlckRhdGEuY291bnRyeSA6ICcnKTsKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2xvYmVDb3VudHJpZXMgPSBPYmplY3Qua2V5cyhDb3VudHJpZXMpLnJlZHVjZShmdW5jdGlvbiAocmVzdWx0LCBjb3VudHJ5KSB7CiAgICAgIHZhciBpdGVtID0gQ291bnRyaWVzW2NvdW50cnldOwogICAgICBpdGVtLmRhdGEubmFtZSA9IGNvdW50cnk7CiAgICAgIHJlc3VsdC5wdXNoKGl0ZW0pOwogICAgICByZXR1cm4gcmVzdWx0OwogICAgfSwgW10pOwogICAgdGhpcy5pbml0R2xvYmUoKTsKICAgIHRoaXMuYW5pbWF0ZSgpOwogIH0KfTs="},{"version":3,"sources":["Globe.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div id=\"globe\"></div>\n</template>\n\n<script>\nimport * as THREE from 'three'\nimport OrbitControls from 'three-orbitcontrols'\nimport SeaImage from '../assets/sea.jpg'\nimport Stars from '../assets/stars.png'\nimport Countries from '../data/globe-countries'\nimport Tessalator3D from '../utils/tessalator3d'\n\nexport default {\n    name: 'Globe',\n    props: {\n        quotes: Array,\n        places: Array,\n        budget: Number,\n        directOnly: Boolean,\n        origin: {\n            code: String,\n            countryCode: String,\n            name: String\n        }\n     },\n    data: () => ({\n        renderer: null,\n        scene: null,\n        camera: null,\n        controls: null,\n        radius: 0.995,\n        segments: 32,\n        intersectedObject: null,\n        hoverScale: 1.01,\n        continents: [\"EU\", \"AN\", \"AS\", \"OC\", \"SA\", \"AF\", \"NA\"],\n        resultCountries: [],\n        globeCountries: []\n    }),\n    methods: {\n        initGlobe() {\n            this.setupRenderer()\n            this.scene = new THREE.Scene()\n            this.setupCamera()\n            this.setupLights()\n\n            this.baseGlobe = new THREE.Object3D()\n            this.baseGlobe.scale.set(20, 20, 20)\n            this.scene.add(this.baseGlobe)\n\n            const starfield = new THREE.Mesh(\n                new THREE.SphereGeometry(90, 64, 64), \n                new THREE.MeshBasicMaterial({\n                    map: THREE.ImageUtils.loadTexture(Stars), \n                    side: THREE.BackSide\n                })\n            )\n            this.scene.add(starfield)\n\n            this.setupTexture()\n\n            this.setupControls()\n\n            document.addEventListener('mousemove', this.onDocumentMouseMove, false)\n            document.addEventListener('keyup', this.onMouseKeyUp, false)\n        },\n\n        onDocumentMouseMove(event) {\n            event.preventDefault()\n\n            const mouseX = (event.clientX / window.innerWidth) * 2 - 1\n            const mouseY = -(event.clientY / window.innerHeight) * 2 + 1\n            const vector = new THREE.Vector3(mouseX, mouseY, -1)\n            vector.unproject(this.camera)\n\n            const raycaster = new THREE.Raycaster(this.camera.position, vector.sub(this.camera.position).normalize())\n            const intersects = raycaster.intersectObject(this.baseGlobe, true)\n            if (intersects.length > 0 && intersects[0].object.name === \"land\") {\n                this.controls.autoRotate = false\n                this.intersectedObject = intersects[0].object\n            } else {\n                this.intersectedObject = null\n            }\n        },\n\n        onMouseKeyUp(event) {\n            if (event.keyCode === 82) { // key: R\n                this.controls.autoRotate = !this.controls.autoRotate\n            }\n        },\n        \n        setupRenderer() {\n            this.renderer = new THREE.WebGLRenderer()\n            this.renderer.setClearColor(0x000000, 0.0)\n            this.renderer.setPixelRatio(window.devicePixelRatio)\n            this.renderer.setSize(window.innerWidth, window.innerHeight)\n            document.body.appendChild(this.renderer.domElement)\n        },\n        \n        setupCamera() {\n            this.camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.01, 4500);\n            this.camera.position.x = -22\n            this.camera.position.y = 10\n            this.camera.position.z = -64\n        },\n\n        setupLights() {\n            this.scene.add(new THREE.AmbientLight(0x555555))\n            \n            var directionalLight1 = new THREE.DirectionalLight(0xaaaaaa, 0.5);\n            directionalLight1.position.set(-1, 1, 1).normalize();\n            this.scene.add(directionalLight1);\n\n            var directionalLight2 = new THREE.DirectionalLight(0xaaaaaa, 0.5);\n            directionalLight2.position.set(-1, 1, -1).normalize();\n            this.scene.add(directionalLight2);\n\n            var directionalLight3 = new THREE.DirectionalLight(0xaaaaaa, 0.5);\n            directionalLight3.position.set(1, 1, -1).normalize();\n            this.scene.add(directionalLight3);\n\n            var directionalLight4 = new THREE.DirectionalLight(0xaaaaaa, 0.5);\n            directionalLight4.position.set(1, 1, 1).normalize();\n            this.scene.add(directionalLight4);\n        },\n\n        setupTexture() {\n            const seaTexture = THREE.ImageUtils.loadTexture(SeaImage, THREE.UVMapping, () => {\n                seaTexture.wrapS = THREE.RepeatWrapping\n                seaTexture.wrapT = THREE.RepeatWrapping\n                seaTexture.repeat.set(16, 8)\n                this.baseGlobe.add(new THREE.Mesh(\n                    new THREE.SphereGeometry(this.radius, this.segments, this.segments),\n                    new THREE.MeshLambertMaterial({\n                        transparent: true,\n                        depthTest: true,\n                        depthWrite: false,\n                        opacity: 0.95,\n                        map: seaTexture,\n                        color: 0x6699ff\n                    })\n                ))\n                this.createCountries()\n            })\n        },\n\n        setupControls() {\n            this.controls = new OrbitControls( this.camera, this.renderer.domElement )\n            this.controls.rotateSpeed = 0.45;\n            this.controls.zoomSpeed = 0.20;\n            this.controls.minDistance = 20.0;\n            this.controls.maxDistance = 100.0;\n            this.controls.dynamicDampingFactor = 0.1\n            this.controls.autoRotateSpeed = 1.0;\n            setTimeout(() => {\n                this.controls.autoRotate = true\n            }, 3000)\n        },\n\n        getColorBasedOnContient(countryCode) {\n            let color = new THREE.Color(0xff0000)\n            const country = this.globeCountries.find(country => country.data.code === countryCode)\n            let contientIndex = country ? this.continents.indexOf(country.data.cont) : -1\n            if(!country) {\n                color = new THREE.Color(0x000000)\n                console.log('could not found matching country', countryCode)\n            } else if (contientIndex !== -1) {\n                // Temp fix for not using green colors on contients\n                // TODO - make color matrix for continents\n                contientIndex = contientIndex === 2 ? 4 : contientIndex\n                color.setHSL(\n                    contientIndex * (1 / 7),\n                    Math.random() * 0.25 + 0.65,\n                    Math.random() / 2 + 0.25\n                )\n            }\n            return color\n        },\n\n        createCountries() {\n            this.globeCountries.forEach(country => {\n                const geometry = new Tessalator3D(country, 0)\n\n                const color = this.getColorBasedOnContient(country.data.code)\n\n                const mesh = country.mesh = new THREE.Mesh(geometry, new THREE.MeshLambertMaterial({\n                    color: color\n                }))\n                mesh.name = \"land\";\n                mesh.userData.country = country.data.name\n                mesh.userData.code = country.data.code\n                this.baseGlobe.add(mesh)\n            })\n        },\n\n        updateCountries() {\n            let filteredTrips = this.quotes.filter(q => q.InboundLeg && q.OutboundLeg)\n            if (this.budget) {\n                filteredTrips = filteredTrips.filter(q => q.MinPrice <= this.budget)\n            }\n            if (this.directOnly) {\n                filteredTrips = filteredTrips.filter(q => q.Direct)\n            }\n            const filteredCountries = filteredTrips.map(t => {\n                const countryNameForStation = this.places.find(p => p.PlaceId === t.OutboundLeg.DestinationId).CountryName\n                const skyscannerCode = this.places.find(p => p.Type === 'Country' && p.Name === countryNameForStation).SkyscannerCode\n                return {name: countryNameForStation, code: skyscannerCode}\n            }).filter(c => c.code !== this.origin.countryCode)\n            const uniqueCountries = [...new Set(filteredCountries)] \n            this.handleSelectedCountries(this.resultCountries, uniqueCountries)\n            this.resultCountries = uniqueCountries\n        },\n\n        handleSelectedCountries(previousCountries, newCountries) {\n            const previousSelectedCountryCodes = previousCountries.map(country => country.code)\n            const newSelectedCountryCodes = newCountries.map(country => country.code)\n            const toBeAdded = newCountries.filter(country => !previousSelectedCountryCodes.includes(country.code))\n            const toBeRemoved = previousCountries.filter(country => !newSelectedCountryCodes.includes(country.code))\n\n            toBeAdded.forEach(country => {\n                const color = new THREE.Color('green')\n                color.setHSL(0.285, 0.65, Math.random() / 7 + 0.4)\n                this.updateCountryColor(country.code, color)\n            })\n\n            toBeRemoved.forEach(country => {\n                const color = this.getColorBasedOnContient(country.code)\n                this.updateCountryColor(country.code, color)\n            })\n        },\n\n        updateCountryColor(countryCode, color) {\n            const countryMesh = this.baseGlobe.children.find(c => c.userData?.code === countryCode)\n            if (countryMesh) {\n                countryMesh.material.color = color\n            } else {\n                console.warn(`Mesh with country code ${countryCode} not found`)\n            }\n        },\n\n        animate() {\n            const animate = () => {\n                requestAnimationFrame(animate)\n                this.controls.update()\n                this.renderer.render(this.scene, this.camera)\n            }\n            animate()\n        }\n    },\n\n    watch: {\n        quotes(newVal) {\n            this.updateCountries()\n        },\n        budget(newVal) {\n            this.updateCountries()\n        },\n        directOnly(newVal) {\n            this.updateCountries()\n        },\n        origin(newVal, oldVal) {\n            if (oldVal != null) {\n                // TODO rotate so country is focused in globe\n                // Restore color of previous selected origin\n                const contientColor = this.getColorBasedOnContient(oldVal.countryCode)\n                this.updateCountryColor(oldVal.countryCode, contientColor)\n            }\n            this.updateCountryColor(newVal.countryCode, new THREE.Color('blue'))\n        },\n        intersectedObject(newVal, oldVal)  {\n            if(newVal !== oldVal) {\n                if(oldVal != null) {\n                    oldVal.scale.set(1.0, 1.0, 1.0)\n                }\n                if(newVal != null) {\n                    newVal.scale.set(this.hoverScale, 1.01, 1.01)\n                }\n                this.$emit('onCountryChange', newVal != null ? newVal.userData.country : '')\n            }\n        }\n    },\n\n    mounted() {\n        this.globeCountries = Object.keys(Countries).reduce((result, country) => {\n            const item = Countries[country]\n            item.data.name = country\n            result.push(item)\n            return result\n        }, [])\n        this.initGlobe()\n        this.animate()\n    }\n}\n</script>\n\n<style scoped>\n</style>\n"],"sourceRoot":"src/components"}]}