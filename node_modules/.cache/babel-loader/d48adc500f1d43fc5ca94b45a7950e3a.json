{"remainingRequest":"/Users/jonatanpersson/Documents/jp/repos/flyer-globe/node_modules/babel-loader/lib/index.js!/Users/jonatanpersson/Documents/jp/repos/flyer-globe/node_modules/eslint-loader/index.js??ref--13-0!/Users/jonatanpersson/Documents/jp/repos/flyer-globe/src/utils/tessalator3d.js","dependencies":[{"path":"/Users/jonatanpersson/Documents/jp/repos/flyer-globe/src/utils/tessalator3d.js","mtime":1595618774870},{"path":"/Users/jonatanpersson/Documents/jp/repos/flyer-globe/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jonatanpersson/Documents/jp/repos/flyer-globe/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jonatanpersson/Documents/jp/repos/flyer-globe/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN1YiI7Cgp2YXIgVEhSRUUgPSByZXF1aXJlKCd0aHJlZScpOwoKZnVuY3Rpb24gVGVzc2FsYXRvcjNEKGRhdGEpIHsKICBUSFJFRS5HZW9tZXRyeS5jYWxsKHRoaXMpOwogIHZhciBpLAogICAgICB1dnMgPSBbXTsKICB2YXIgaW5uZXJfcmFkaXVzID0gMC45ODsKCiAgZm9yIChpID0gMDsgaSA8IGRhdGEudmVydGljZXMubGVuZ3RoOyBpICs9IDIpIHsKICAgIHZhciBsb24gPSBkYXRhLnZlcnRpY2VzW2ldOwogICAgdmFyIGxhdCA9IGRhdGEudmVydGljZXNbaSArIDFdOwogICAgdmFyIHBoaSA9ICsoOTAuMCAtIGxhdCkgKiBNYXRoLlBJIC8gMTgwLjA7CiAgICB2YXIgdGhlID0gKygxODAuMCAtIGxvbikgKiBNYXRoLlBJIC8gMTgwLjA7CiAgICB2YXIgd3ggPSBNYXRoLnNpbih0aGUpICogTWF0aC5zaW4ocGhpKSAqIC0xOwogICAgdmFyIHd6ID0gTWF0aC5jb3ModGhlKSAqIE1hdGguc2luKHBoaSk7CiAgICB2YXIgd3kgPSBNYXRoLmNvcyhwaGkpOwogICAgdmFyIHd1ID0gMC4yNSArIGxvbiAvIDM2MC4wOwogICAgdmFyIHd2ID0gMC41MCArIGxhdCAvIDE4MC4wOwogICAgdGhpcy52ZXJ0aWNlcy5wdXNoKG5ldyBUSFJFRS5WZWN0b3IzKHd4LCB3eSwgd3opKTsKICAgIHV2cy5wdXNoKG5ldyBUSFJFRS5WZWN0b3IyKHd1LCB3dikpOwogIH0KCiAgdmFyIG4gPSB0aGlzLnZlcnRpY2VzLmxlbmd0aDsKCiAgaWYgKGlubmVyX3JhZGl1cyA8PSAxKSB7CiAgICBmb3IgKGkgPSAwOyBpIDwgbjsgaSsrKSB7CiAgICAgIHZhciB2ID0gdGhpcy52ZXJ0aWNlc1tpXTsKICAgICAgdGhpcy52ZXJ0aWNlcy5wdXNoKHYuY2xvbmUoKS5tdWx0aXBseVNjYWxhcihpbm5lcl9yYWRpdXMpKTsKICAgIH0KICB9CgogIGZvciAoaSA9IDA7IGkgPCBkYXRhLnRyaWFuZ2xlcy5sZW5ndGg7IGkgKz0gMykgewogICAgdmFyIGEgPSBkYXRhLnRyaWFuZ2xlc1tpXTsKICAgIHZhciBiID0gZGF0YS50cmlhbmdsZXNbaSArIDFdOwogICAgdmFyIGMgPSBkYXRhLnRyaWFuZ2xlc1tpICsgMl07CiAgICB0aGlzLmZhY2VzLnB1c2gobmV3IFRIUkVFLkZhY2UzKGEsIGIsIGMsIFt0aGlzLnZlcnRpY2VzW2FdLCB0aGlzLnZlcnRpY2VzW2JdLCB0aGlzLnZlcnRpY2VzW2NdXSkpOwogICAgdGhpcy5mYWNlVmVydGV4VXZzWzBdLnB1c2goW3V2c1thXSwgdXZzW2JdLCB1dnNbY11dKTsKCiAgICBpZiAoMCA8IGlubmVyX3JhZGl1cyAmJiBpbm5lcl9yYWRpdXMgPD0gMSkgewogICAgICB0aGlzLmZhY2VzLnB1c2gobmV3IFRIUkVFLkZhY2UzKG4gKyBiLCBuICsgYSwgbiArIGMsIFt0aGlzLnZlcnRpY2VzW2JdLmNsb25lKCkubXVsdGlwbHlTY2FsYXIoLTEpLCB0aGlzLnZlcnRpY2VzW2FdLmNsb25lKCkubXVsdGlwbHlTY2FsYXIoLTEpLCB0aGlzLnZlcnRpY2VzW2NdLmNsb25lKCkubXVsdGlwbHlTY2FsYXIoLTEpXSkpOwogICAgICB0aGlzLmZhY2VWZXJ0ZXhVdnNbMF0ucHVzaChbdXZzW2JdLCB1dnNbYV0sIHV2c1tjXV0pOwogICAgfQogIH0KCiAgaWYgKGlubmVyX3JhZGl1cyA8IDEpIHsKICAgIGZvciAoaSA9IDA7IGkgPCBkYXRhLnBvbHlnb25zLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBwb2x5V2l0aEhvbGVzID0gZGF0YS5wb2x5Z29uc1tpXTsKCiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcG9seVdpdGhIb2xlcy5sZW5ndGg7IGorKykgewogICAgICAgIHZhciBwb2x5Z29uT3JIb2xlID0gcG9seVdpdGhIb2xlc1tqXTsKCiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBwb2x5Z29uT3JIb2xlLmxlbmd0aDsgaysrKSB7CiAgICAgICAgICB2YXIgX2EgPSBwb2x5Z29uT3JIb2xlW2tdLAogICAgICAgICAgICAgIF9iID0gcG9seWdvbk9ySG9sZVsoayArIDEpICUgcG9seWdvbk9ySG9sZS5sZW5ndGhdOwogICAgICAgICAgdmFyIHZhMSA9IHRoaXMudmVydGljZXNbX2FdLAogICAgICAgICAgICAgIHZiMSA9IHRoaXMudmVydGljZXNbX2JdOwogICAgICAgICAgdmFyIHZhMiA9IHRoaXMudmVydGljZXNbbiArIF9hXTsKICAgICAgICAgIHZhciBub3JtYWw7CgogICAgICAgICAgaWYgKGogPCAxKSB7CiAgICAgICAgICAgIG5vcm1hbCA9IHZiMS5jbG9uZSgpLnN1Yih2YTEpLmNyb3NzKHZhMi5jbG9uZSgpLnN1Yih2YTEpKS5ub3JtYWxpemUoKTsKICAgICAgICAgICAgdGhpcy5mYWNlcy5wdXNoKG5ldyBUSFJFRS5GYWNlMyhfYSwgX2IsIG4gKyBfYSwgW25vcm1hbCwgbm9ybWFsLCBub3JtYWxdKSk7CiAgICAgICAgICAgIHRoaXMuZmFjZVZlcnRleFV2c1swXS5wdXNoKFt1dnNbX2FdLCB1dnNbX2JdLCB1dnNbX2FdXSk7CgogICAgICAgICAgICBpZiAoaW5uZXJfcmFkaXVzID4gMCkgewogICAgICAgICAgICAgIHRoaXMuZmFjZXMucHVzaChuZXcgVEhSRUUuRmFjZTMoX2IsIG4gKyBfYiwgbiArIF9hLCBbbm9ybWFsLCBub3JtYWwsIG5vcm1hbF0pKTsKICAgICAgICAgICAgICB0aGlzLmZhY2VWZXJ0ZXhVdnNbMF0ucHVzaChbdXZzW19iXSwgdXZzW19iXSwgdXZzW19hXV0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBub3JtYWwgPSB2YTIuY2xvbmUoKS5zdWIodmExKS5jcm9zcyh2YjEuY2xvbmUoKS5zdWIodmExKSkubm9ybWFsaXplKCk7CiAgICAgICAgICAgIHRoaXMuZmFjZXMucHVzaChuZXcgVEhSRUUuRmFjZTMoX2IsIF9hLCBuICsgX2EsIFtub3JtYWwsIG5vcm1hbCwgbm9ybWFsXSkpOwogICAgICAgICAgICB0aGlzLmZhY2VWZXJ0ZXhVdnNbMF0ucHVzaChbdXZzW19iXSwgdXZzW19hXSwgdXZzW19hXV0pOwoKICAgICAgICAgICAgaWYgKGlubmVyX3JhZGl1cyA+IDApIHsKICAgICAgICAgICAgICB0aGlzLmZhY2VzLnB1c2gobmV3IFRIUkVFLkZhY2UzKF9iLCBuICsgX2EsIG4gKyBfYiwgW25vcm1hbCwgbm9ybWFsLCBub3JtYWxdKSk7CiAgICAgICAgICAgICAgdGhpcy5mYWNlVmVydGV4VXZzWzBdLnB1c2goW3V2c1tfYl0sIHV2c1tfYV0sIHV2c1tfYl1dKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KCiAgdGhpcy5jb21wdXRlRmFjZU5vcm1hbHMoKTsKICB0aGlzLmJvdW5kaW5nU3BoZXJlID0gbmV3IFRIUkVFLlNwaGVyZShuZXcgVEhSRUUuVmVjdG9yMygpLCAxKTsKfQoKVGVzc2FsYXRvcjNELnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoVEhSRUUuR2VvbWV0cnkucHJvdG90eXBlKTsKZXhwb3J0IGRlZmF1bHQgVGVzc2FsYXRvcjNEOw=="},{"version":3,"sources":["/Users/jonatanpersson/Documents/jp/repos/flyer-globe/src/utils/tessalator3d.js"],"names":["THREE","require","Tessalator3D","data","Geometry","call","i","uvs","inner_radius","vertices","length","lon","lat","phi","Math","PI","the","wx","sin","wz","cos","wy","wu","wv","push","Vector3","Vector2","n","v","clone","multiplyScalar","triangles","a","b","c","faces","Face3","faceVertexUvs","polygons","polyWithHoles","j","polygonOrHole","k","va1","vb1","va2","normal","sub","cross","normalize","computeFaceNormals","boundingSphere","Sphere","prototype","Object","create"],"mappings":"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","sourcesContent":["var THREE = require('three');\nfunction Tessalator3D(data) {\n  THREE.Geometry.call(this);\n  var i, uvs = [];\n  var inner_radius = 0.98;\n  for (i = 0; i < data.vertices.length; i += 2) {\n    var lon = data.vertices[i];\n    var lat = data.vertices[i + 1];\n    var phi = +(90.0 - lat) * Math.PI / 180.0;\n    var the = +(180.0 - lon) * Math.PI / 180.0;\n    var wx = Math.sin(the) * Math.sin(phi) * -1;\n    var wz = Math.cos(the) * Math.sin(phi);\n    var wy = Math.cos(phi);\n    var wu = 0.25 + lon / 360.0;\n    var wv = 0.50 + lat / 180.0;\n    this.vertices.push(new THREE.Vector3(wx, wy, wz));\n    uvs.push(new THREE.Vector2(wu, wv))\n  }\n  var n = this.vertices.length;\n  if (inner_radius <= 1) {\n    for (i = 0; i < n; i++) {\n      var v = this.vertices[i];\n      this.vertices.push(v.clone()\n        .multiplyScalar(inner_radius))\n    }\n  }\n  for (i = 0; i < data.triangles.length; i += 3) {\n    let a = data.triangles[i];\n    let b = data.triangles[i + 1];\n    let c = data.triangles[i + 2];\n    this.faces.push(new THREE.Face3(a, b, c, [this.vertices[a], this.vertices[b], this.vertices[c]]));\n    this.faceVertexUvs[0].push([uvs[a], uvs[b], uvs[c]]);\n    if ((0 < inner_radius) && (inner_radius <= 1)) {\n      this.faces.push(new THREE.Face3(n + b, n + a, n + c, [this.vertices[b].clone()\n        .multiplyScalar(-1), this.vertices[a].clone()\n        .multiplyScalar(-1), this.vertices[c].clone()\n        .multiplyScalar(-1)\n      ]));\n      this.faceVertexUvs[0].push([uvs[b], uvs[a], uvs[c]])\n    }\n  }\n  if (inner_radius < 1) {\n    for (i = 0; i < data.polygons.length; i++) {\n      var polyWithHoles = data.polygons[i];\n      for (var j = 0; j < polyWithHoles.length; j++) {\n        var polygonOrHole = polyWithHoles[j];\n        for (var k = 0; k < polygonOrHole.length; k++) {\n          let a = polygonOrHole[k],\n            b = polygonOrHole[(k + 1) % polygonOrHole.length];\n          let va1 = this.vertices[a],\n            vb1 = this.vertices[b];\n          let va2 = this.vertices[n + a]\n          var normal;\n          if (j < 1) {\n            normal = vb1.clone()\n              .sub(va1)\n              .cross(va2.clone()\n                .sub(va1))\n              .normalize();\n            this.faces.push(new THREE.Face3(a, b, n + a, [normal, normal, normal]));\n            this.faceVertexUvs[0].push([uvs[a], uvs[b], uvs[a]]);\n            if (inner_radius > 0) {\n              this.faces.push(new THREE.Face3(b, n + b, n + a, [normal, normal, normal]));\n              this.faceVertexUvs[0].push([uvs[b], uvs[b], uvs[a]])\n            }\n          } else {\n            normal = va2.clone()\n              .sub(va1)\n              .cross(vb1.clone()\n                .sub(va1))\n              .normalize();\n            this.faces.push(new THREE.Face3(b, a, n + a, [normal, normal, normal]));\n            this.faceVertexUvs[0].push([uvs[b], uvs[a], uvs[a]]);\n            if (inner_radius > 0) {\n              this.faces.push(new THREE.Face3(b, n + a, n + b, [normal, normal, normal]));\n              this.faceVertexUvs[0].push([uvs[b], uvs[a], uvs[b]])\n            }\n          }\n        }\n      }\n    }\n  }\n  this.computeFaceNormals();\n  this.boundingSphere = new THREE.Sphere(new THREE.Vector3(), 1)\n}\nTessalator3D.prototype = Object.create(THREE.Geometry.prototype);\nexport default Tessalator3D"]}]}